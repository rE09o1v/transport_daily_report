# タスク完了時のワークフロー

## 必須チェック項目

### 1. コード品質確認
```bash
flutter analyze                # 静的解析実行
```
- Lint警告の確認と修正
- 新規警告の発生有無をチェック
- Critical/Error レベルの問題は必ず修正

### 2. テスト実行
```bash
flutter test                   # 全テスト実行
flutter test --coverage       # カバレッジ付きテスト
```
- 既存テストの通過確認
- 新機能に対するテスト追加検討

### 3. ビルド確認
```bash
flutter build web             # Webビルド
flutter build apk             # Android APK（必要に応じて）
flutter build windows         # Windows実行ファイル（必要に応じて）
```
- ターゲットプラットフォームでのビルド成功確認
- 実行時エラーの有無確認

## プラットフォーム別確認

### Web開発時
```bash
flutter run -d chrome         # Webブラウザで動作確認
```
- レスポンシブデザインの確認
- JavaScript互換性のチェック

### モバイル開発時
```bash
flutter run -d [device]       # デバイス・エミュレータで確認
```
- タッチ操作の動作確認
- 権限要求の適切な処理確認

## コード整理

### インポート整理
- 未使用インポートの削除
- インポート順序の統一
- 相対パス・絶対パスの統一

### コメント・デバッグコード
- print文の確認（本番環境では適切なロギングに変更）
- デバッグ用コメントの整理
- TODO・FIXMEコメントの確認

## 品質メトリクス確認

### 現在の品質指標
- **Lint警告数**: 122件（ベースライン）
- **主要警告**: print文使用、非同期BuildContext
- **改善目標**: 新規警告の発生防止

### パフォーマンス確認
- ホットリロードの動作確認
- メモリリーク確認（開発ツールで）
- UI応答性のチェック

## Git管理

### コミット前チェック
```bash
git status                    # 変更ファイル確認
git diff                      # 変更内容確認
```
- 意図しない変更の有無確認
- 機密情報の誤コミット防止

### 推奨コミットメッセージ
```
feat: 新機能追加の説明
fix: バグ修正の説明
refactor: リファクタリングの説明
docs: ドキュメント更新
style: コードスタイル修正
```

## 運送業アプリ特有の確認事項

### 法的要件チェック
- 点呼記録の適切な保存
- GPS位置情報の正確性
- PDF出力の内容・フォーマット

### ビジネスロジック確認
- 距離計算の精度
- 時刻記録の一貫性
- データ整合性の維持

## 完了報告

タスク完了時は以下を含めて報告：
1. 実装した機能の概要
2. 発生したLint警告と対応方針
3. テスト結果
4. 既知の課題・改善点